# segment readme

### Описание:

Сервис для гибкой настройки полей для резюме и вакансий в зависимости от сегмента к которому относится вакансия или резюме

Настройка осуществляется через админскую панель

#### Термины:

Сегмент - это группировка вакансий и резюме по определенному признаку

### Backend:

### Frontend:

### Профили

Имеется 2 профиля: dev и prod. Профиль по умолчанию - prod.
В зависимости от профиля выбираются настройки Hibernate: 
hibernate-dev.properties или hibernate-prod.properties.
В hibernate-dev.properties следует указать свои локальные настройки 
подключения к базе (локальной или встроенной). Для запуска из Idea можно 
либо запускать maven lifecycle с профилем dev, либо настроить конфигурацию
отладчика с VM options -Dspring.profiles.active=dev.


### Docker compose

#### Сборка образа

В образ входит база PostgreSQL и backend-сервис. Для выбора портов хостовой
системы необходимо в файле .env изменить значения соответствующих параметров.
Порты по умолчанию: 8080 - для backend-сервиса, 6580 - для PostgreSQL.

Для сборки docker образа сервиса выполнить команду:

    docker compose build

#### Запуск контейнеров

Для запуска контейнера на Windows выполнить команду:

    docker compose up

Для проверки сделана тестовая ручка http://localhost:8080/segment
(вместо 8081 выбранный порт хостовой системы). Get запрос возвращает "Hello!".
Если backend-сервис имеет корректные настройки подключения к БД, в консоли 
выведется "SessionStatistics[<Статистика сессии>]"

#### Остановка контейнеров

Для остановки контейнера выполнить команду:

    docker compose stop
